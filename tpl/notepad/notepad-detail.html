{% extends "base-qnavbar.html" %}

{% block head %}
  <link href="{{ STATIC_URL }}libs/google-code-prettify/prettify.css"
        rel="stylesheet" />
  <script src="{{STATIC_URL }}libs/google-code-prettify/prettify.js"></script>
{% endblock %}

{% block bodyargs %}onload="prettyPrint()"{% endblock %}

{% block title %}notepad{% endblock %}

{% block content %}
<h1>springwhiz
  <small>
    notepad
    <a href="/notepad/list/" class="btn btn-small btn-link">
      Show all notes
    </a>
  </small>
</h1>

{% block deletenotice %}{% endblock %}

<form id="notepad" method="POST" class="form-horizontal">
  {% csrf_token %}

  <h3>
    {{ note.name|truncatechars:"80" }}
    <small>
      {% block actions %}
        {% if note.user == user %}
          <a class="btn btn-link"
            href="/notepad/{{ note.shorthash }}/edit/">
            Edit
          </a>
          <a class="btn btn-link color-red"
            href="/notepad/{{ note.shorthash }}/delete/">
            Remove
          </a>
        {% else %}
          Shared by {{ note.user }}
        {% endif %}
      {% endblock %}
    </small>
  </h3>
  <ul class="inline">
    <li class="pull-right">
      Last edited {{ note.last_edited|timesince }} ago
      on {{ note.last_edited|date:"D Y-m-d H:i:s" }}
    </li>
    <li>{{ note.text|wordcount }} words / {{ note.text|length }} chars</li>
    {% if note.user == user %}
      <li>|</li>
      <li>{{ note.get_share_display }}</li>
    {% endif %}
  </ul>

  <pre class="prettyprint">{{ note.text|linenumbers }}</pre>
</form>
{% endblock %}

{# vim: set et ts=2 sw=2 sts=2 ft=htmldjango: #}
